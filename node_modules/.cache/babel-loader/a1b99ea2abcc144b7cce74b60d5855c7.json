{"ast":null,"code":"import _slicedToArray from\"C:/Users/prasa/Desktop/origin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'./Orders.css';import{db}from\"./firebase\";import Order from'./Order';import{useStateValue}from'./StateProvider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Orders(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispatch=_useStateValue2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];useEffect(function(){if(user){db.collection('users').doc(user===null||user===void 0?void 0:user.uid).collection('orders').orderBy('created','desc').onSnapshot(function(snapshot){setOrders(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data};}));});}else{setOrders([]);}},[user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"orders\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Yours Orders\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orders_order\",children:orders===null||orders===void 0?void 0:orders.map(function(order){/*#__PURE__*/_jsx(Order,{order:order});})})]});}export default Orders;","map":{"version":3,"sources":["C:/Users/prasa/Desktop/origin/src/Orders.js"],"names":["React","useEffect","useState","db","Order","useStateValue","Orders","basket","user","dispatch","orders","setOrders","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","map","id","data","order"],"mappings":"oJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,cAAP,CACA,OAAQC,EAAR,KAAiB,YAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,aAAT,KAA8B,iBAA9B,C,wFAEA,QAASC,CAAAA,MAAT,EAAkB,CACd,mBAAoCD,aAAa,EAAjD,sFAAQE,MAAR,kBAAQA,MAAR,CAAiBC,IAAjB,kBAAiBA,IAAjB,CAAwBC,QAAxB,oBACJ,cAA6BP,QAAQ,CAAC,EAAD,CAArC,wCAAOQ,MAAP,eAAgBC,SAAhB,eAEAV,SAAS,CAAC,UAAI,CACV,GAAGO,IAAH,CAAQ,CACJL,EAAE,CAACS,UAAH,CAAc,OAAd,EACCC,GADD,CACKL,IADL,SACKA,IADL,iBACKA,IAAI,CAAEM,GADX,EAECF,UAFD,CAEY,QAFZ,EAGCG,OAHD,CAGS,SAHT,CAGqB,MAHrB,EAICC,UAJD,CAIY,SAAAC,QAAQ,CAAG,CACnBN,SAAS,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAN,GAAG,QAAI,CAC/BO,EAAE,CAACP,GAAG,CAACO,EADwB,CAE/BC,IAAI,CAAER,GAAG,CAACQ,IAFqB,CAAJ,EAArB,CAAD,CAAT,CAIH,CATD,EAYH,CAbD,IAcI,CACAV,SAAS,CAAC,EAAD,CAAT,CACH,CAGJ,CApBQ,CAoBL,CAACH,IAAD,CApBK,CAAT,CAsBI,mBACI,aAAK,SAAS,CAAC,QAAf,wBACI,oCADJ,cAEI,YAAK,SAAS,CAAC,cAAf,UACKE,MADL,SACKA,MADL,iBACKA,MAAM,CAAES,GAAR,CAAY,SAAAG,KAAK,CAAG,CACjB,kBAAC,KAAD,EAAO,KAAK,CAAGA,KAAf,GACH,CAFA,CADL,EAFJ,GADJ,CAUH,CAED,cAAehB,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport './Orders.css'\nimport {db} from \"./firebase\"\nimport Order from './Order';\nimport { useStateValue } from './StateProvider';\n\nfunction Orders() {\n    const [{basket , user} ,dispatch] = useStateValue();\nconst [orders , setOrders] = useState([]);\n\nuseEffect(()=>{\n    if(user){\n        db.collection('users')\n        .doc(user?.uid)\n        .collection('orders')\n        .orderBy('created' , 'desc')\n        .onSnapshot(snapshot =>{\n            setOrders(snapshot.docs.map(doc =>({\n                id:doc.id,\n                data: doc.data\n            })))\n        })\n  \n\n    }\n    else{\n        setOrders([])\n    }\n  \n\n} , [user])\n\n    return (\n        <div className='orders'>\n            <h1>Yours Orders</h1>\n            <div className='orders_order'>\n                {orders?.map(order =>{\n                    <Order order= {order} />\n                })}\n            </div>\n        </div>\n    )\n}\n\nexport default Orders\n"]},"metadata":{},"sourceType":"module"}